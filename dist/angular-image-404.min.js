angular.module("angular-image-404",[]).directive("image404",function(){return{restrict:"A",link:function(t,e,r){function a(){var t=r.image404;(n>=3||!t)&&(t=i()),e.attr("src",t),n++}function i(){var t=angular.element(e[0]).attr("max-width")||e[0].offsetWidth||120,a=angular.element(e[0]).attr("max-height")||e[0].offsetHeight||120,i=r.fbBgcolor.replace("#","")||"",n=r.fbColor.replace("#","")||"",o=r.fbText||"",l="",c=window.location.href.split("://").shift();return c||(c="http"),l=c+"://dummyimage.com/"+t+"x"+a,i&&n&&(l+="/"+i+"/"+n),o&&(l+="&text="+o),l}var n=0;r.src||a(),e.on("error",a)}}});